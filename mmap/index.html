<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<title>Marauder's Map</title>
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true&amp;libraries=places"></script>

	<script type="text/javascript">
		function initialize() {
			myLat = 0;
			myLng = 0;
			getmyLocation(myLat, myLng);
			var myLatlng = new google.maps.LatLng(myLat, myLng);

			var mapOptions = {
				center: myLatlng,
				zoom: 5
			};
			map = new google.maps.Map(document.getElementById('map'), mapOptions);

			console.log("got map");

			marker = new google.maps.Marker({
				position: myLatlng,
				map: map,
				title: "Title"
			});
		}

		function getmyLocation(){
			console.log('In get my location');
			if (navigator.geolocation) { // the navigator.geolocation object is supported on your browser
					navigator.geolocation.getCurrentPosition(function(position) {
										console.log('navigator');

						myLat = position.coords.latitude;
						myLng = position.coords.longitude;
					});
				}
				else {
					alert("Geolocation is not supported by your web browser.  What a shame!");
				}
			console.log(myLat +' '+ myLng);
		}
	</script>
	<link rel="stylesheet" href="mmap_style.css" type="text/css" />
</head>
<body onload='initialize()'>
	<div id = 'map'></div>
</body>
</html>